<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MerchantHaus – ISO Solutions for U.S. Retail</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Montserrat', 'ui-sans-serif', 'system-ui'] },
          colors: {
            brand: { 600:'#dc2743', 700:'#c21b35', 400:'#ef3c5b' }
          },
          keyframes: {
            shimmer: { '0%': { backgroundPosition: '200% 0' }, '100%': { backgroundPosition: '-200% 0' } },
            floaty: { '0%,100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-6px)' } }
          },
          animation: { shimmer: 'shimmer 10s linear infinite', floaty: 'floaty 6s ease-in-out infinite' }
        }
      }
    }
  </script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Custom Styles -->
  <style>
    :root { color-scheme: light dark; }
    body { font-family: 'Montserrat', sans-serif; }
    .grad-text { background: linear-gradient(90deg, #c21b35, #ef3c5b, #FFD700, #39FF14, #08D9D6, #A020F0, #CC5500, #ef3c5b, #c21b35); -webkit-background-clip:text; background-clip:text; color: transparent; background-size: 600% 600%; animation: shimmer 15s linear infinite; }
    .grad-text-static { background: linear-gradient(90deg, #c21b35, #ef3c5b, #ff9aa8, #ef3c5b, #c21b35); -webkit-background-clip:text; background-clip:text; color: transparent; background-size: 300% 100%; }
    .field:focus { outline: none; box-shadow: 0 0 0 3px rgba(239,60,91,.35); }
    @keyframes shimmer {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    .cursor {
      display: inline-block;
      width: 3px;
      height: 1em;
      background-color: #dc2743;
      animation: blink-caret .75s step-end infinite;
      vertical-align: bottom;
    }
    @keyframes blink-caret {
      from, to { background-color: transparent; }
      50% { background-color: #dc2743; }
    }
    .loader {
        width: 16px;
        height: 16px;
        border: 2px solid #FFF;
        border-bottom-color: transparent;
        border-radius: 50%;
        display: inline-block;
        box-sizing: border-box;
        animation: rotation 1s linear infinite;
        vertical-align: middle;
        margin-right: 8px;
    }
    @keyframes rotation {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    /* Style for blending logos with non-transparent backgrounds */
    .integration-logo-blend {
        mix-blend-mode: multiply;
    }
    .dark .integration-logo-blend {
        mix-blend-mode: screen;
    }
  </style>

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="shield/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="shield/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="shield/favicon-16x16.png">
  <link rel="manifest" href="shield/site.webmanifest">

</head>

<body class="bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100">
  <!-- Header -->
  <header class="sticky top-0 z-50 bg-white/75 dark:bg-slate-950/60 backdrop-blur border-b border-slate-200/70 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
      <a href="#" class="flex items-center gap-3 group">
        <img src="shield/shield.png" alt="MerchantHaus Logo" class="h-10 w-10">
        <div>
            <!-- Responsive Font Size Added -->
            <div id="logo-container" class="text-2xl md:text-3xl font-extrabold tracking-wide grad-text"></div>
            <p id="animated-tagline" class="text-xs text-slate-500 dark:text-slate-400 h-4"></p>
        </div>
      </a>
      <nav class="hidden md:flex items-center gap-7 text-sm">
        <a href="#payments" class="hover:text-brand-600">Payment Services</a>
        <a href="#integrations" class="hover:text-brand-600">Integrations</a>
        <a href="#checklist" class="hover:text-brand-600">Setup Checklist</a>
        <a href="#ai-faq" class="hover:text-brand-600">FAQ</a>
        <a href="#" class="js-cta hover:text-brand-600">Contact Us</a>
      </nav>
      <div class="flex items-center gap-2">
        <button id="themeToggle" class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" aria-label="Toggle theme"><i data-lucide="moon" class="h-5 w-5"></i></button>
        <a href="#" class="px-4 py-2 text-sm font-semibold rounded-lg border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">Login</a>
        <button class="js-cta px-4 py-2 text-sm font-semibold rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700">Request a Demo</button>
        <button class="js-cta px-4 py-2 text-sm font-semibold rounded-lg bg-brand-600 text-white hover:bg-brand-700">Get Started</button>
        <button id="openMobile" class="md:hidden p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" aria-label="Open menu"><i data-lucide="menu" class="h-5 w-5"></i></button>
      </div>
    </div>
  </header>

  <!-- Mobile Sheet -->
  <div id="mobileSheet" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50" data-close></div>
    <div class="ml-auto h-full w-[88%] max-w-sm bg-white dark:bg-slate-900 p-6 shadow-2xl">
      <div class="flex items-center justify-between">
        <span class="font-extrabold">Menu</span>
        <button class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" data-close aria-label="Close menu"><i data-lucide="x" class="h-5 w-5"></i></button>
      </div>
      <nav class="mt-6 grid gap-4 text-sm">
        <a href="#" data-close class="font-semibold hover:text-brand-600 border-b border-slate-200 dark:border-slate-800 pb-3 mb-1">Merchant Login</a>
        <a href="#payments" data-close class="hover:text-brand-600">Payment Services</a>
        <a href="#integrations" data-close class="hover:text-brand-600">Integrations</a>
        <a href="#checklist" data-close class="hover:text-brand-600">Setup Checklist</a>
        <a href="#ai-faq" data-close class="hover:text-brand-600">FAQ</a>
        <a href="#" data-close class="js-cta hover:text-brand-600">Contact Us</a>
        <a href="#" data-close class="hover:text-brand-600">Privacy Policy</a>
        <a href="#" data-close class="hover:text-brand-600">Terms & Conditions</a>
      </nav>
      <div class="mt-6 flex flex-col gap-3">
        <button class="js-cta w-full px-4 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 font-semibold">Request a Demo</button>
        <button class="js-cta w-full px-4 py-2 rounded-lg bg-brand-600 text-white font-semibold hover:bg-brand-700">Get Started</button>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <section class="relative overflow-hidden">
    <div class="absolute inset-0 -z-10 opacity-20 dark:opacity-30" aria-hidden="true">
      <div class="absolute -top-32 -left-24 h-96 w-96 rounded-full blur-3xl bg-brand-400/40"></div>
      <div class="absolute -bottom-32 -right-24 h-96 w-96 rounded-full blur-3xl bg-brand-700/40"></div>
    </div>

    <div class="max-w-7xl mx-auto px-4 pt-16 md:pt-24 pb-14">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <div class="space-y-6">
          <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">Accept Payments Anywhere—<span class="grad-text-static">Fast, Secure, and Flexible.</span></h1>
          <p class="text-lg text-slate-600 dark:text-slate-300">Easily set up your business payment profile and start accepting cards, ACH, and payment links—whether online or in-store.</p>
          <div class="flex flex-col sm:flex-row gap-3">
            <button class="js-cta px-5 py-3 rounded-xl bg-brand-600 text-white text-sm font-medium hover:bg-brand-700">Get Started</button>
            <button class="js-cta px-5 py-3 rounded-xl border border-slate-300 dark:border-slate-700 text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-900">Request a Demo</button>
          </div>
        </div>
        <ul class="grid grid-cols-2 gap-4 text-sm">
            <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50">Online, in‑store & mobile</li>
            <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50">Cards, ACH, Apple Pay & Google Pay</li>
            <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50">Smart routing & fraud prevention</li>
            <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50">Simple dashboards & reports</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Payment Services -->
  <section id="payments" class="py-16 md:py-24 bg-slate-50 dark:bg-slate-900/40 border-y border-slate-200/70 dark:border-slate-800">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-3xl font-bold mb-3 text-center">Payment Services Built for You</h2>
      <p class="text-gray-600 dark:text-slate-300 mb-8 text-center">Everything you need to accept payments and manage your business, all in one place.</p>
      <ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm leading-6">
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Accept Payments Anywhere</strong> – Online, in‑store, or on the go—supports cards, ACH/eCheck, and mobile wallets (Apple Pay, Google Pay).</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Smart Processing & Routing</strong> – Route transactions efficiently to reduce costs and minimize fraud.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Payment Links & Invoicing</strong> – Send customers secure pay‑by‑link options when you’re not online.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Recurring Billing & Subscriptions</strong> – Automated plans, proration, and payment reminders made simple.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Secure Tokenization & Data Vault</strong> – Protect customer info safely, without handling sensitive data directly.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Detailed Dashboard & Reporting</strong> – Track settlements, analytics, and transaction insights with ease.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Integration & Automation</strong> – APIs, webhooks, and workflow tools to connect your systems seamlessly.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Bank Payments & ACH Support</strong> – Lower‑cost transfers directly to your account.</li>
        <li class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950"><strong>Fraud Prevention & Verification Tools</strong> – Built‑in safeguards to keep your business secure.</li>
      </ul>
    </div>
  </section>

  <!-- Integrations Section -->
  <section id="integrations" class="py-16 md:py-24">
    <div class="max-w-5xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold mb-3">Integrate with Your Favorite Tools</h2>
      <p class="text-gray-600 dark:text-slate-300 mb-10">Connect MerchantHaus with the platforms you already use to streamline your workflow.</p>
      <div class="flex justify-center items-center gap-8 md:gap-16">
        <a href="#" class="block hover:scale-105 transition-transform duration-300">
          <!-- Shopify Logos for Light/Dark Theme -->
          <img src="shopifylight.png" alt="Shopify Logo" class="h-12 md:h-14 block dark:hidden">
          <img src="shopifydark.png" alt="Shopify Logo" class="h-12 md:h-14 hidden dark:block">
        </a>
        <a href="#" class="block hover:scale-105 transition-transform duration-300">
          <img src="gohighlevellight.png" alt="GoHighLevel Logo" class="h-12 md:h-14 block dark:hidden integration-logo-blend">
          <img src="gohighleveldark.png" alt="GoHighLevel Logo" class="h-12 md:h-14 hidden dark:block">
        </a>
      </div>
    </div>
  </section>

    <!-- Setup Checklist -->
    <section id="checklist" class="py-16 md:py-24 bg-slate-50 dark:bg-slate-900/40 border-y border-slate-200/70 dark:border-slate-800">
        <div class="max-w-3xl mx-auto px-4">
            <h2 class="text-3xl font-bold mb-3 text-center">Setup Checklist: What You’ll Need to Begin</h2>
            <p class="text-gray-600 dark:text-slate-300 mb-6 text-center">Here’s everything we’ll ask for during setup—business details, security info, documentation. We’ll guide you step‑by‑step.</p>
            <ul class="list-disc pl-5 space-y-2 text-sm max-w-md mx-auto">
                <li>Business information (name, address, industry)</li>
                <li>Owner/representative info (name, contact, ID)</li>
                <li>Bank account for payouts</li>
                <li>Verification documents (e.g. photo ID, business registration)—upload when prompted</li>
                <li>Basic fraud and security setup (required for processing)</li>
            </ul>
            <div class="mt-8 flex justify-center gap-3">
                <button class="js-cta px-5 py-3 rounded-xl bg-brand-600 text-white text-sm font-medium hover:bg-brand-700">Get Started</button>
            </div>
        </div>
    </section>
    
    <!-- AI-Powered FAQ Section -->
    <section id="ai-faq" class="py-16 md:py-24">
        <div class="max-w-3xl mx-auto px-4">
            <h2 class="text-3xl font-bold mb-3 text-center">✨ AI-Powered FAQ</h2>
            <p class="text-gray-600 dark:text-slate-300 mb-8 text-center">Have a question about our services? Ask our AI assistant for an instant answer.</p>
            
            <div class="flex gap-2">
                <input id="faq-question" type="text" placeholder="e.g., What are your transaction fees?" class="field w-full rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 p-3">
                <button id="ask-faq" class="px-5 py-3 rounded-lg bg-brand-600 text-white font-semibold hover:bg-brand-700 w-28 text-center">Ask</button>
            </div>

            <div id="faq-answer" class="mt-6 p-4 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hidden"></div>
        </div>
    </section>

  <!-- Footer -->
  <footer class="border-t border-slate-200 dark:border-slate-800 py-10">
    <div class="max-w-7xl mx-auto px-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-8 text-sm">
      <div class="space-y-3">
        <a href="#" class="flex items-center gap-3">
            <img src="shield/shield.png" alt="MerchantHaus Logo" class="h-9 w-9">
            <span class="text-2xl font-extrabold tracking-wide grad-text">MerchantHaus</span>
        </a>
        <p class="text-gray-600 dark:text-slate-300">Merchant Haus – Payments made simple.</p>
      </div>
      <nav class="space-y-2">
        <h3 class="font-semibold">Product</h3>
        <a href="#payments" class="block hover:underline">Payment Services</a>
        <a href="#integrations" class="block hover:underline">Integrations</a>
        <a href="#checklist" class="block hover:underline">Setup Checklist</a>
        <a href="#ai-faq" class="block hover:underline">FAQ</a>
      </nav>
      <nav class="space-y-2">
        <h3 class="font-semibold">Support</h3>
        <a href="#" class="js-cta block hover:underline">Contact Support</a>
        <a href="#ai-faq" class="block hover:underline">FAQs</a>
      </nav>
      <nav class="space-y-2">
        <h3 class="font-semibold">Legal</h3>
        <a href="#" class="block hover:underline">Privacy Policy</a>
        <a href="#" class="block hover:underline">Terms & Conditions</a>
      </nav>
    </div>
    <div class="text-center text-xs text-gray-500 pt-8 mt-8 border-t border-slate-200 dark:border-slate-800">© <span id="year"></span> Merchant Haus. All rights reserved.</div>
  </footer>

  <!-- Booking Modal (shared across site) -->
  <div id="book-modal" class="fixed inset-0 z-[70] hidden">
    <div class="absolute inset-0 bg-black/60" data-close></div>
    <div class="mx-auto mt-[10vh] w-[min(560px,92vw)] rounded-2xl bg-white dark:bg-slate-900 p-6 border border-slate-200 dark:border-slate-800 shadow-2xl">
      <div class="flex items-center justify-between">
        <h3 class="text-xl font-extrabold">Book a 20-minute consultation</h3>
        <button class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" data-close aria-label="Close">
          <i data-lucide="x" class="h-5 w-5"></i>
        </button>
      </div>
      <p class="mt-1 text-sm text-slate-600 dark:text-slate-300">Tell us a bit about you and we’ll send a private booking link immediately.</p>

      <form id="book-form" class="mt-4 grid gap-3">
        <input name="name" placeholder="Your name" class="field rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2" required>
        <input name="email" type="email" placeholder="Work email" class="field rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2" required>
        <input name="company" placeholder="Company" class="field rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2">
        <input name="phone" placeholder="Phone (optional)" class="field rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2">
        <textarea name="notes" placeholder="Anything specific you want to cover?" rows="3" class="field rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2"></textarea>
        <input type="text" name="hp" class="hidden" tabindex="-1" autocomplete="off">
        <button class="rounded-lg bg-brand-600 text-white font-semibold px-4 py-2 hover:bg-brand-700" type="submit">Send me the booking link</button>
        <p id="book-out" class="text-xs text-slate-500"></p>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    // --- CORE UI & EVENT LISTENERS ---

    // Set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Icons
    document.addEventListener('DOMContentLoaded', () => { if (window.lucide) lucide.createIcons(); });

    // Theme toggle with preference memory
    const themeToggle = document.getElementById('themeToggle');
    function applyTheme() {
      const saved = localStorage.getItem('theme');
      const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const isDark = saved ? saved === 'dark' : systemDark;
      document.documentElement.classList.toggle('dark', isDark);
      if (window.lucide) {
        themeToggle.innerHTML = isDark ? '<i data-lucide="sun" class="h-5 w-5"></i>' : '<i data-lucide="moon" class="h-5 w-5"></i>';
        lucide.createIcons();
      }
    }
    applyTheme();
    themeToggle.addEventListener('click', () => {
      const isDark = document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      applyTheme();
    });

    // Mobile sheet show/hide
    const mobile = document.getElementById('mobileSheet');
    document.getElementById('openMobile').addEventListener('click', () => mobile.classList.remove('hidden'));
    mobile.addEventListener('click', (e) => { if (e.target.dataset.close !== undefined) mobile.classList.add('hidden'); });

    // Modal handlers
    const bookModal = document.getElementById('book-modal');
    const bookForm = document.getElementById('book-form');
    const bookOut = document.getElementById('book-out');

    document.querySelectorAll('.js-cta').forEach(el => {
      el.addEventListener('click', (e) => {
        e.preventDefault();
        bookModal.classList.remove('hidden');
      });
    });

    bookModal.addEventListener('click', (e) => {
      if (e.target.dataset.close !== undefined) {
        bookModal.classList.add('hidden');
      }
    });

    bookForm.addEventListener('submit', (e) => {
      e.preventDefault();
      // Honeypot check
      if (bookForm.hp.value) return;

      bookOut.textContent = 'Sending...';
      // In a real app, you would send this data to a server or service
      setTimeout(() => {
        bookOut.textContent = 'Success! Check your email for the booking link.';
        bookForm.reset();
      }, 1000);
    });

    // --- HEADER ANIMATION ---
    const logoContainer = document.getElementById('logo-container');
    const animatedTagline = document.getElementById('animated-tagline');
    const logoText = "MerchantHaus";
    const taglineText = "safe . smart . secure";
    
    function typeWriter(element, text, speed, callback) {
        let i = 0;
        element.innerHTML = '';
        const typingInterval = setInterval(() => {
            if (i < text.length) {
                element.innerHTML = text.substring(0, i + 1) + '<span class="cursor"></span>';
                i++;
            } else {
                clearInterval(typingInterval);
                element.innerHTML = text; // Remove cursor at the end
                if (callback) callback();
            }
        }, speed);
    }

    document.addEventListener('DOMContentLoaded', () => {
        typeWriter(logoContainer, logoText, 120, () => {
            setTimeout(() => {
                typeWriter(animatedTagline, taglineText, 100);
            }, 500);
        });
    });

    // --- AI-POWERED FAQ ---
    const askFaqBtn = document.getElementById('ask-faq');
    const faqQuestionInput = document.getElementById('faq-question');
    const faqAnswerContainer = document.getElementById('faq-answer');

    // Function to get the page content for context
    const getPageContext = () => {
        let context = "Page Content:\n\n";
        document.querySelectorAll('h1, h2, h3, p, li').forEach(el => {
            context += el.textContent.trim() + "\n";
        });
        return context;
    };

    const handleFaqSubmit = async () => {
        const question = faqQuestionInput.value.trim();
        if (!question) return;

        faqAnswerContainer.classList.remove('hidden');
        askFaqBtn.disabled = true;
        askFaqBtn.innerHTML = '<span class="loader"></span>';
        faqAnswerContainer.innerHTML = 'Thinking...';

        const pageContext = getPageContext();
        const prompt = `You are a helpful assistant for MerchantHaus, a payment processing company. A user has a question: "${question}". Based *only* on the following context from the MerchantHaus website, provide a clear and concise answer. If the answer is not in the context, say "I'm sorry, I can't find information about that on this page. Please contact support for more details."\n\nContext:\n${pageContext}`;

        try {
            let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be injected in a production environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                throw new Error(`API request failed with status ${response.status}`);
            }

            const result = await response.json();
            
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const text = result.candidates[0].content.parts[0].text;
                let html = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                html = html.replace(/^\* (.*$)/gm, '<li>$1</li>');
                html = html.replace(/<\/li><li>/g, '</li><li>');
                if (html.includes('<li>')) {
                    html = `<ul class="list-disc pl-5 space-y-2">${html}</ul>`;
                }
                faqAnswerContainer.innerHTML = html;

            } else {
                faqAnswerContainer.textContent = 'Sorry, I could not find an answer to your question.';
            }
        } catch (error) {
            console.error('Error fetching AI response:', error);
            faqAnswerContainer.textContent = 'Sorry, something went wrong. Please try again later.';
        } finally {
            askFaqBtn.disabled = false;
            askFaqBtn.innerHTML = 'Ask';
        }
    };

    askFaqBtn.addEventListener('click', handleFaqSubmit);
    faqQuestionInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            handleFaqSubmit();
        }
    });

  </script>
</body>
</html>
